import{j as e}from"./chunk-D-Ek0So8.js";import{r as n}from"./chunk-BWavu6B_.js";import{s as a,u as t}from"./chunk-dJ4gLY84.js";import{S as o}from"./index-C2gNgYct.js";import{B as s,U as d,G as m,n as i,f as c,q as r,s as l,c as p,b as x,X as h,k as g,t as y,u,D as j,T as b,v as C,w as v,x as A,y as w,z as N}from"./chunk-8cbCSV6d.js";import"./chunk-CAHU6Bv8.js";import"./chunk-C9gHHC5N.js";const f=({client:n,systemModules:a,isSelected:t,onSelect:o,onAction:x})=>{var h,g,y,u,j,b,C;const v=(null==(g=null==(h=null==n?void 0:n.client_module_permissions)?void 0:h.filter((e=>null==e?void 0:e.is_enabled)))?void 0:g.length)||0,A=(null==a?void 0:a.length)||0,w=A>0?v/A*100:0,N=null==(u=null==(y=null==n?void 0:n.client_practice_mappings)?void 0:y.find((e=>null==e?void 0:e.is_primary_location)))?void 0:u.practice_locations;return e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:52:4","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"52","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",className:"bg-white rounded-lg shadow-sm border-2 transition-all duration-200 "+(t?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:55:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"55","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-6%22%7D",className:"p-6",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:56:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"56","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-start%20justify-between%22%7D",className:"flex items-start justify-between",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:57:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"57","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-start%20space-x-4%22%7D",className:"flex items-start space-x-4",children:[e.jsx("input",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:58:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"58","data-component-file":"ClientCard.jsx","data-component-name":"input","data-component-content":"%7B%22elementName%22%3A%22input%22%2C%22type%22%3A%22checkbox%22%2C%22className%22%3A%22mt-1%20h-4%20w-4%20text-blue-600%20focus%3Aring-blue-500%20border-gray-300%20rounded%22%7D",type:"checkbox",checked:t,onChange:e=>{var a;return null==o?void 0:o(null==n?void 0:n.id,null==(a=null==e?void 0:e.target)?void 0:a.checked)},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:65:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"65","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex-1%22%7D",className:"flex-1",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:66:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"66","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-3%20mb-2%22%7D",className:"flex items-center space-x-3 mb-2",children:[e.jsx(s,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:67:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"67","data-component-file":"ClientCard.jsx","data-component-name":"Building","data-component-content":"%7B%22elementName%22%3A%22Building%22%2C%22className%22%3A%22h-6%20w-6%20text-gray-400%22%7D",className:"h-6 w-6 text-gray-400"}),e.jsx("h3",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:68:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"68","data-component-file":"ClientCard.jsx","data-component-name":"h3","data-component-content":"%7B%22elementName%22%3A%22h3%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%22%7D",className:"text-lg font-semibold text-gray-900",children:null==n?void 0:n.organization_name}),(n=>{switch(n){case"active":return e.jsx(p,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:7:28","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"7","data-component-file":"ClientCard.jsx","data-component-name":"CheckCircle","data-component-content":"%7B%22elementName%22%3A%22CheckCircle%22%2C%22className%22%3A%22h-5%20w-5%20text-green-500%22%7D",className:"h-5 w-5 text-green-500"});case"trial":return e.jsx(c,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:8:27","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"8","data-component-file":"ClientCard.jsx","data-component-name":"Clock","data-component-content":"%7B%22elementName%22%3A%22Clock%22%2C%22className%22%3A%22h-5%20w-5%20text-yellow-500%22%7D",className:"h-5 w-5 text-yellow-500"});case"suspended":return e.jsx(l,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:9:31","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"9","data-component-file":"ClientCard.jsx","data-component-name":"XCircle","data-component-content":"%7B%22elementName%22%3A%22XCircle%22%2C%22className%22%3A%22h-5%20w-5%20text-red-500%22%7D",className:"h-5 w-5 text-red-500"});case"inactive":return e.jsx(r,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:10:30","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"10","data-component-file":"ClientCard.jsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22elementName%22%3A%22AlertTriangle%22%2C%22className%22%3A%22h-5%20w-5%20text-gray-400%22%7D",className:"h-5 w-5 text-gray-400"});default:return e.jsx(c,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:11:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"11","data-component-file":"ClientCard.jsx","data-component-name":"Clock","data-component-content":"%7B%22elementName%22%3A%22Clock%22%2C%22className%22%3A%22h-5%20w-5%20text-gray-400%22%7D",className:"h-5 w-5 text-gray-400"})}})(null==n?void 0:n.status)]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:74:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"74","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20mb-3%22%7D",className:"flex items-center space-x-2 mb-3",children:[(n=>{var a;const t={active:"bg-green-100 text-green-800",trial:"bg-yellow-100 text-yellow-800",suspended:"bg-red-100 text-red-800",inactive:"bg-gray-100 text-gray-800",pending_approval:"bg-blue-100 text-blue-800"};return e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:25:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"25","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%7D",className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(null==t?void 0:t[n])||(null==t?void 0:t.inactive)}`,children:null==(a=null==n?void 0:n.replace("_"," "))?void 0:a.toUpperCase()})})(null==n?void 0:n.status),(n=>{const a={basic:"bg-gray-100 text-gray-800",professional:"bg-blue-100 text-blue-800",enterprise:"bg-purple-100 text-purple-800"};return e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:39:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"39","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%7D",className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(null==a?void 0:a[n])||(null==a?void 0:a.basic)}`,children:null==n?void 0:n.toUpperCase()})})(null==n?void 0:n.subscription_tier)]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:79:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"79","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-4%20mb-4%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:80:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"80","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:81:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"81","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-600%20mb-1%22%2C%22textContent%22%3A%22Contact%22%7D",className:"text-sm text-gray-600 mb-1",children:"Contact"}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:82:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"82","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20font-medium%20text-gray-900%22%7D",className:"text-sm font-medium text-gray-900",children:null==n?void 0:n.contact_email}),(null==n?void 0:n.contact_phone)&&e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:84:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"84","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%7D",className:"text-sm text-gray-500",children:null==n?void 0:n.contact_phone})]}),N&&e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:89:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"89","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:90:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"90","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-600%20mb-1%22%2C%22textContent%22%3A%22Primary%20Practice%22%7D",className:"text-sm text-gray-600 mb-1",children:"Primary Practice"}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:91:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"91","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20font-medium%20text-gray-900%22%7D",className:"text-sm font-medium text-gray-900",children:null==N?void 0:N.name}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:92:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"92","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%7D",className:"text-sm text-gray-500",children:null==N?void 0:N.address})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:97:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"97","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%22%7D",className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:98:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"98","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",className:"flex items-center space-x-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:99:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"99","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",className:"flex items-center space-x-1",children:[e.jsx(d,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:100:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"100","data-component-file":"ClientCard.jsx","data-component-name":"Users","data-component-content":"%7B%22elementName%22%3A%22Users%22%2C%22className%22%3A%22h-4%20w-4%20text-gray-400%22%7D",className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:101:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"101","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%2C%22textContent%22%3A%22%2F%20users%22%7D",className:"text-sm text-gray-600",children:[null==n?void 0:n.total_users,"/",null==n?void 0:n.max_users," users"]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:106:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"106","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",className:"flex items-center space-x-1",children:[e.jsx(m,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:107:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"107","data-component-file":"ClientCard.jsx","data-component-name":"Globe","data-component-content":"%7B%22elementName%22%3A%22Globe%22%2C%22className%22%3A%22h-4%20w-4%20text-gray-400%22%7D",className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:108:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"108","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%2C%22textContent%22%3A%22%2F%20modules%22%7D",className:"text-sm text-gray-600",children:[v,"/",A," modules"]})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:114:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"114","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22text-right%22%7D",className:"text-right",children:[e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:115:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"115","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%2C%22textContent%22%3A%22Created%22%7D",className:"text-xs text-gray-500",children:"Created"}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:116:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"116","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20font-medium%20text-gray-900%22%7D",className:"text-sm font-medium text-gray-900",children:null==(j=new Date(null==n?void 0:n.created_at))?void 0:j.toLocaleDateString()})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:123:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"123","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22mb-4%22%7D",className:"mb-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:124:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"124","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20mb-1%22%7D",className:"flex items-center justify-between mb-1",children:[e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:125:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"125","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%2C%22textContent%22%3A%22Module%20Usage%22%7D",className:"text-sm text-gray-600",children:"Module Usage"}),e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:126:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"126","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%2C%22textContent%22%3A%22%25%22%7D",className:"text-sm text-gray-500",children:[Math.round(w),"%"]})]}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:128:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"128","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22w-full%20bg-gray-200%20rounded-full%20h-2%22%7D",className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:129:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"129","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-blue-600%20h-2%20rounded-full%20transition-all%20duration-300%22%7D",className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:137:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"137","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:138:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"138","data-component-file":"ClientCard.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-600%20mb-2%22%2C%22textContent%22%3A%22Active%20Modules%22%7D",className:"text-sm text-gray-600 mb-2",children:"Active Modules"}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:139:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"139","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20flex-wrap%20gap-1%22%7D",className:"flex flex-wrap gap-1",children:[null==(C=null==(b=null==n?void 0:n.client_module_permissions)?void 0:b.filter((e=>null==e?void 0:e.is_enabled)))?void 0:C.map((n=>{const t=null==a?void 0:a.find((e=>(null==e?void 0:e.module_name)===(null==n?void 0:n.module_name)));return e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:145:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"145","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22inline-flex%20items-center%20px-2%20py-1%20rounded%20text-xs%20bg-green-100%20text-green-800%22%7D",className:"inline-flex items-center px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:[(null==t?void 0:t.display_name)||(null==n?void 0:n.module_name),e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:150:26","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"150","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22ml-1%20text-xs%20text-green-600%22%2C%22textContent%22%3A%22(%20)%22%7D",className:"ml-1 text-xs text-green-600",children:["(",null==n?void 0:n.permission_level,")"]})]},null==n?void 0:n.module_name)})),0===v&&e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:157:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"157","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-500%20italic%22%2C%22textContent%22%3A%22No%20active%20modules%22%7D",className:"text-sm text-gray-500 italic",children:"No active modules"})]})]})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:164:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"164","data-component-file":"ClientCard.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20flex-col%20space-y-2%20ml-4%22%7D",className:"flex flex-col space-y-2 ml-4",children:[e.jsxs("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:165:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"165","data-component-file":"ClientCard.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20px-3%20py-1%20text-sm%20bg-blue-600%20text-white%20rounded-md%20hover%3Abg-blue-700%20transition-colors%22%7D",onClick:()=>null==x?void 0:x("edit_permissions",null==n?void 0:n.id),className:"flex items-center space-x-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(i,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:169:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"169","data-component-file":"ClientCard.jsx","data-component-name":"Settings","data-component-content":"%7B%22elementName%22%3A%22Settings%22%2C%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:170:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"170","data-component-file":"ClientCard.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22textContent%22%3A%22Permissions%22%7D",children:"Permissions"})]}),e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:173:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"173","data-component-file":"ClientCard.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%7D",onClick:()=>null==x?void 0:x("toggle_status",null==n?void 0:n.id,n),className:"flex items-center space-x-2 px-3 py-1 text-sm rounded-md transition-colors "+("active"===(null==n?void 0:n.status)?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"),children:"active"===(null==n?void 0:n.status)?"Suspend":"Activate"}),e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx:182:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientCard.jsx","data-component-line":"182","data-component-file":"ClientCard.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20px-3%20py-1%20text-sm%20bg-red-600%20text-white%20rounded-md%20hover%3Abg-red-700%20transition-colors%22%2C%22textContent%22%3A%22Delete%22%7D",onClick:()=>null==x?void 0:x("delete",null==n?void 0:n.id,n),className:"flex items-center space-x-2 px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})})})},B=({client:t,systemModules:o,onClose:s,onSave:d})=>{var m,i;const[c,r]=n.useState({}),[l,p]=n.useState(!1),[u,j]=n.useState(""),[b,C]=n.useState(!1);n.useEffect((()=>{const e={};null==o||o.forEach((n=>{var a;const o=null==(a=null==t?void 0:t.client_module_permissions)?void 0:a.find((e=>(null==e?void 0:e.module_name)===(null==n?void 0:n.module_name)));e[null==n?void 0:n.module_name]={permission_level:(null==o?void 0:o.permission_level)||"none",is_enabled:(null==o?void 0:o.is_enabled)||!1,usage_quota:(null==o?void 0:o.usage_quota)||null,expires_at:(null==o?void 0:o.expires_at)||null}})),r(e)}),[t,o]);const v=(e,n,a)=>{r((t=>({...t,[e]:{...null==t?void 0:t[e],[n]:a}}))),C(!0)};return e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:108:4","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"108","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22fixed%20inset-0%20bg-black%20bg-opacity-50%20flex%20items-center%20justify-center%20z-50%22%7D",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:109:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"109","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow-xl%20max-w-4xl%20w-full%20max-h-%5B90vh%5D%20overflow-hidden%22%7D",className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:110:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"110","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20p-6%20border-b%22%7D",className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:111:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"111","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",className:"flex items-center space-x-3",children:[e.jsx(x,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:112:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"112","data-component-file":"ClientPermissionModal.jsx","data-component-name":"Shield","data-component-content":"%7B%22elementName%22%3A%22Shield%22%2C%22className%22%3A%22h-6%20w-6%20text-blue-600%22%7D",className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:113:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"113","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsxs("h3",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:114:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"114","data-component-file":"ClientPermissionModal.jsx","data-component-name":"h3","data-component-content":"%7B%22elementName%22%3A%22h3%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%22%2C%22textContent%22%3A%22Client%20Permissions%20-%22%7D",className:"text-lg font-semibold text-gray-900",children:["Client Permissions - ",null==t?void 0:t.organization_name]}),e.jsxs("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:117:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"117","data-component-file":"ClientPermissionModal.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%2C%22textContent%22%3A%22Subscription%20Tier%3A%20%E2%80%A2%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Status%3A%22%7D",className:"text-sm text-gray-500",children:["Subscription Tier: ",null==(m=null==t?void 0:t.subscription_tier)?void 0:m.toUpperCase()," â€¢ Status: ",null==(i=null==t?void 0:t.status)?void 0:i.toUpperCase()]})]})]}),e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:123:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"123","data-component-file":"ClientPermissionModal.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22text-gray-400%20hover%3Atext-gray-600%22%7D",onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(h,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:127:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"127","data-component-file":"ClientPermissionModal.jsx","data-component-name":"X","data-component-content":"%7B%22elementName%22%3A%22X%22%2C%22className%22%3A%22h-6%20w-6%22%7D",className:"h-6 w-6"})})]}),u&&e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:132:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"132","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-4%20bg-red-50%20border-l-4%20border-red-400%22%7D",className:"p-4 bg-red-50 border-l-4 border-red-400",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:133:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"133","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%22%7D",className:"flex items-center",children:[e.jsx(g,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:134:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"134","data-component-file":"ClientPermissionModal.jsx","data-component-name":"AlertCircle","data-component-content":"%7B%22elementName%22%3A%22AlertCircle%22%2C%22className%22%3A%22h-5%20w-5%20text-red-400%20mr-2%22%7D",className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:135:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"135","data-component-file":"ClientPermissionModal.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-red-700%22%7D",className:"text-red-700",children:u})]})}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:140:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"140","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-6%20overflow-y-auto%20max-h-%5B60vh%5D%22%7D",className:"p-6 overflow-y-auto max-h-[60vh]",children:e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:141:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"141","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22grid%20grid-cols-1%20gap-6%22%7D",className:"grid grid-cols-1 gap-6",children:null==o?void 0:o.map((n=>{const a=((e,n)=>{var a;return null==(a=null==e?void 0:e.tier_availability)?void 0:a.includes(n)})(n,null==t?void 0:t.subscription_tier),o=(null==c?void 0:c[null==n?void 0:n.module_name])||{};return e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:147:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"147","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",className:"border rounded-lg p-4 "+(a?"border-gray-200":"border-gray-100 bg-gray-50"),children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:153:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"153","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-start%20justify-between%20mb-3%22%7D",className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:154:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"154","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex-1%22%7D",className:"flex-1",children:[e.jsx("h4",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:155:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"155","data-component-file":"ClientPermissionModal.jsx","data-component-name":"h4","data-component-content":"%7B%22elementName%22%3A%22h4%22%7D",className:"font-medium "+(a?"text-gray-900":"text-gray-500"),children:null==n?void 0:n.display_name}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:158:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"158","data-component-file":"ClientPermissionModal.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%7D",className:"text-sm mt-1 "+(a?"text-gray-600":"text-gray-400"),children:null==n?void 0:n.description}),!a&&e.jsxs("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:162:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"162","data-component-file":"ClientPermissionModal.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-xs%20text-orange-600%20mt-1%22%2C%22textContent%22%3A%22Not%20available%20in%20tier%22%7D",className:"text-xs text-orange-600 mt-1",children:["Not available in ",null==t?void 0:t.subscription_tier," tier"]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:168:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"168","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",className:"flex items-center space-x-2",children:[e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:169:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"169","data-component-file":"ClientPermissionModal.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%2C%22textContent%22%3A%22%24%20%2Fmonth%22%7D",className:"text-sm text-gray-500",children:["$",null==n?void 0:n.base_price,"/month"]}),(null==n?void 0:n.is_core_module)&&e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:173:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"173","data-component-file":"ClientPermissionModal.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22inline-flex%20items-center%20px-2%20py-1%20rounded-full%20text-xs%20bg-yellow-100%20text-yellow-800%22%2C%22textContent%22%3A%22Core%22%7D",className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:"Core"})]})]}),a&&e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:180:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"180","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-4%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:182:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"182","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("label",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:183:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"183","data-component-file":"ClientPermissionModal.jsx","data-component-name":"label","data-component-content":"%7B%22elementName%22%3A%22label%22%2C%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%2C%22textContent%22%3A%22Permission%20Level%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Permission Level"}),e.jsxs("select",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:186:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"186","data-component-file":"ClientPermissionModal.jsx","data-component-name":"select","data-component-content":"%7B%22elementName%22%3A%22select%22%2C%22className%22%3A%22w-full%20border%20border-gray-300%20rounded-md%20px-3%20py-2%20text-sm%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-blue-500%22%7D",value:(null==o?void 0:o.permission_level)||"none",onChange:e=>{var a;return v(null==n?void 0:n.module_name,"permission_level",null==(a=null==e?void 0:e.target)?void 0:a.value)},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:195:26","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"195","data-component-file":"ClientPermissionModal.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22none%22%2C%22textContent%22%3A%22No%20Access%22%7D",value:"none",children:"No Access"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:196:26","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"196","data-component-file":"ClientPermissionModal.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22read%22%2C%22textContent%22%3A%22Read%20Only%22%7D",value:"read",children:"Read Only"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:197:26","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"197","data-component-file":"ClientPermissionModal.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22write%22%2C%22textContent%22%3A%22Read%20%26%20Write%22%7D",value:"write",children:"Read & Write"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:198:26","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"198","data-component-file":"ClientPermissionModal.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22admin%22%2C%22textContent%22%3A%22Full%20Admin%22%7D",value:"admin",children:"Full Admin"})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:203:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"203","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("label",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:204:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"204","data-component-file":"ClientPermissionModal.jsx","data-component-name":"label","data-component-content":"%7B%22elementName%22%3A%22label%22%2C%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%2C%22textContent%22%3A%22Status%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:207:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"207","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",className:"flex items-center space-x-2",children:[e.jsx("input",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:208:26","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"208","data-component-file":"ClientPermissionModal.jsx","data-component-name":"input","data-component-content":"%7B%22elementName%22%3A%22input%22%2C%22type%22%3A%22checkbox%22%2C%22className%22%3A%22h-4%20w-4%20text-blue-600%20focus%3Aring-blue-500%20border-gray-300%20rounded%22%7D",type:"checkbox",checked:(null==o?void 0:o.is_enabled)||!1,onChange:e=>{var a;return v(null==n?void 0:n.module_name,"is_enabled",null==(a=null==e?void 0:e.target)?void 0:a.checked)},disabled:"none"===(null==o?void 0:o.permission_level),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:219:26","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"219","data-component-file":"ClientPermissionModal.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%7D",className:"text-sm text-gray-600",children:(null==o?void 0:o.is_enabled)?"Enabled":"Disabled"})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:226:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"226","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("label",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:227:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"227","data-component-file":"ClientPermissionModal.jsx","data-component-name":"label","data-component-content":"%7B%22elementName%22%3A%22label%22%2C%22className%22%3A%22block%20text-sm%20font-medium%20text-gray-700%20mb-1%22%2C%22textContent%22%3A%22Usage%20Quota%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Quota"}),e.jsx("input",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:230:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"230","data-component-file":"ClientPermissionModal.jsx","data-component-name":"input","data-component-content":"%7B%22elementName%22%3A%22input%22%2C%22type%22%3A%22number%22%2C%22className%22%3A%22w-full%20border%20border-gray-300%20rounded-md%20px-3%20py-2%20text-sm%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-blue-500%22%7D",type:"number",placeholder:"Unlimited",value:(null==o?void 0:o.usage_quota)||"",onChange:e=>{var a,t;return v(null==n?void 0:n.module_name,"usage_quota",(null==(a=null==e?void 0:e.target)?void 0:a.value)?parseInt(null==(t=null==e?void 0:e.target)?void 0:t.value):null)},disabled:"none"===(null==o?void 0:o.permission_level),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]},null==n?void 0:n.id)}))})}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:251:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"251","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20p-6%20border-t%20bg-gray-50%22%7D",className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:252:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"252","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%7D",className:"text-sm text-gray-500",children:b&&"You have unsaved changes"}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:256:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"256","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",className:"flex items-center space-x-3",children:[e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:257:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"257","data-component-file":"ClientPermissionModal.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22px-4%20py-2%20text-sm%20font-medium%20text-gray-700%20bg-white%20border%20border-gray-300%20rounded-md%20hover%3Abg-gray-50%20focus%3Aring-2%20focus%3Aring-blue-500%20disabled%3Aopacity-50%22%2C%22textContent%22%3A%22Cancel%22%7D",onClick:s,disabled:l,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:"Cancel"}),e.jsxs("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:265:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"265","data-component-file":"ClientPermissionModal.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20px-4%20py-2%20text-sm%20font-medium%20text-white%20bg-blue-600%20border%20border-transparent%20rounded-md%20hover%3Abg-blue-700%20focus%3Aring-2%20focus%3Aring-blue-500%20disabled%3Aopacity-50%22%7D",onClick:async()=>{var e,n,o,s,m,i,r;p(!0),j("");try{const{error:l}=await(null==(o=null==(n=null==(e=a)?void 0:e.from("client_module_permissions"))?void 0:n.delete())?void 0:o.eq("client_organization_id",null==t?void 0:t.id));if(l)throw l;const p=[];if(null==(s=Object.entries(c))||s.forEach((([e,n])=>{"none"!==(null==n?void 0:n.permission_level)&&(null==p||p.push({client_organization_id:null==t?void 0:t.id,module_name:e,permission_level:null==n?void 0:n.permission_level,is_enabled:null==n?void 0:n.is_enabled,usage_quota:(null==n?void 0:n.usage_quota)||null,expires_at:(null==n?void 0:n.expires_at)||null}))})),(null==p?void 0:p.length)>0){const{error:e}=await(null==(i=null==(m=a)?void 0:m.from("client_module_permissions"))?void 0:i.insert(p));if(e)throw e}await(null==(r=a)?void 0:r.rpc("log_system_owner_action",{action_type_param:"client_permissions_updated",target_client_param:null==t?void 0:t.id,target_user_param:null,details_param:{organization_name:null==t?void 0:t.organization_name,permissions_count:null==p?void 0:p.length}})),null==d||d()}catch(l){j("Failed to update permissions. Please try again.")}finally{p(!1)}},disabled:l||!b,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[l?e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:271:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"271","data-component-file":"ClientPermissionModal.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22animate-spin%20rounded-full%20h-4%20w-4%20border-b-2%20border-white%22%7D",className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(y,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:273:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"273","data-component-file":"ClientPermissionModal.jsx","data-component-name":"Save","data-component-content":"%7B%22elementName%22%3A%22Save%22%2C%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx:275:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/ClientPermissionModal.jsx","data-component-line":"275","data-component-file":"ClientPermissionModal.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%7D",children:l?"Saving...":"Save Changes"})]})]})]})]})})},M=({metrics:n})=>{var a;const t=[{title:"Total Clients",value:(null==n?void 0:n.totalClients)||0,icon:s,color:"blue",trend:"+12%",trendUp:!0},{title:"Active Clients",value:(null==n?void 0:n.activeClients)||0,icon:u,color:"green",trend:"+8%",trendUp:!0},{title:"Total Users",value:(null==n?void 0:n.totalUsers)||0,icon:d,color:"purple",trend:"+15%",trendUp:!0},{title:"Monthly Revenue",value:(o=null==n?void 0:n.totalRevenue,null==(m=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0}))?void 0:m.format(o||0)),icon:j,color:"yellow",trend:"+22%",trendUp:!0}];var o,m;return e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:62:4","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"62","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22mb-8%22%7D",className:"mb-8",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:63:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"63","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20lg%3Agrid-cols-4%20gap-6%20mb-6%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:null==t?void 0:t.map((n=>{var a;const[t,o,s]=null==(a=(e=>{const n={blue:"bg-blue-500 text-blue-600 bg-blue-50",green:"bg-green-500 text-green-600 bg-green-50",purple:"bg-purple-500 text-purple-600 bg-purple-50",yellow:"bg-yellow-500 text-yellow-600 bg-yellow-50",red:"bg-red-500 text-red-600 bg-red-50"};return(null==n?void 0:n[e])||(null==n?void 0:n.blue)})(null==n?void 0:n.color))?void 0:a.split(" "),d=null==n?void 0:n.icon;return e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:69:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"69","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow-sm%20border%20border-gray-200%20p-6%22%7D",className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:70:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"70","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:71:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"71","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:72:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"72","data-component-file":"SystemMetrics.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-600%20mb-1%22%7D",className:"text-sm text-gray-600 mb-1",children:null==n?void 0:n.title}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:73:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"73","data-component-file":"SystemMetrics.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-2xl%20font-semibold%20text-gray-900%22%7D",className:"text-2xl font-semibold text-gray-900",children:null==n?void 0:n.value}),(null==n?void 0:n.trend)&&e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:75:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"75","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20mt-2%22%7D",className:"flex items-center mt-2",children:[e.jsx(b,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:76:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"76","data-component-file":"SystemMetrics.jsx","data-component-name":"TrendingUp","data-component-content":"%7B%22elementName%22%3A%22TrendingUp%22%7D",className:"h-4 w-4 mr-1 "+((null==n?void 0:n.trendUp)?"text-green-500":"text-red-500")}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:77:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"77","data-component-file":"SystemMetrics.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%7D",className:"text-sm font-medium "+((null==n?void 0:n.trendUp)?"text-green-600":"text-red-600"),children:null==n?void 0:n.trend}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:80:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"80","data-component-file":"SystemMetrics.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-500%20ml-1%22%2C%22textContent%22%3A%22vs%20last%20month%22%7D",className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:84:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"84","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",className:`p-3 rounded-lg ${s}`,children:e.jsx(d,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:85:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"85","data-component-file":"SystemMetrics.jsx","data-component-name":"Icon","data-component-content":"%7B%22elementName%22%3A%22Icon%22%7D",className:`h-6 w-6 ${o}`})})]})},null==n?void 0:n.title)}))}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:94:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"94","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow-sm%20border%20border-gray-200%20p-6%22%7D",className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:95:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"95","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:96:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"96","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("h3",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:97:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"97","data-component-file":"SystemMetrics.jsx","data-component-name":"h3","data-component-content":"%7B%22elementName%22%3A%22h3%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%20mb-2%22%2C%22textContent%22%3A%22System%20Health%22%7D",className:"text-lg font-semibold text-gray-900 mb-2",children:"System Health"}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:98:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"98","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",className:"flex items-center space-x-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:99:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"99","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",className:"flex items-center space-x-2",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:100:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"100","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22h-3%20w-3%20bg-green-400%20rounded-full%22%7D",className:"h-3 w-3 bg-green-400 rounded-full"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:101:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"101","data-component-file":"SystemMetrics.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%2C%22textContent%22%3A%22Database%3A%20Healthy%22%7D",className:"text-sm text-gray-600",children:"Database: Healthy"})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:103:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"103","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",className:"flex items-center space-x-2",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:104:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"104","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22h-3%20w-3%20bg-green-400%20rounded-full%22%7D",className:"h-3 w-3 bg-green-400 rounded-full"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:105:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"105","data-component-file":"SystemMetrics.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%2C%22textContent%22%3A%22API%3A%20Operational%22%7D",className:"text-sm text-gray-600",children:"API: Operational"})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:107:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"107","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",className:"flex items-center space-x-2",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:108:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"108","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22h-3%20w-3%20bg-green-400%20rounded-full%22%7D",className:"h-3 w-3 bg-green-400 rounded-full"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:109:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"109","data-component-file":"SystemMetrics.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%2C%22textContent%22%3A%22Storage%3A%20Online%22%7D",className:"text-sm text-gray-600",children:"Storage: Online"})]})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:114:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"114","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22text-right%22%7D",className:"text-right",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:115:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"115","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20mb-1%22%7D",className:"flex items-center space-x-2 mb-1",children:[e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:116:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"116","data-component-file":"SystemMetrics.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-2xl%20font-semibold%20text-green-600%22%2C%22textContent%22%3A%22%25%22%7D",className:"text-2xl font-semibold text-green-600",children:[(null==(a=null==n?void 0:n.systemHealth)?void 0:a.toFixed(1))||"98.5","%"]}),e.jsx(u,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:119:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"119","data-component-file":"SystemMetrics.jsx","data-component-name":"Activity","data-component-content":"%7B%22elementName%22%3A%22Activity%22%2C%22className%22%3A%22h-5%20w-5%20text-green-500%22%7D",className:"h-5 w-5 text-green-500"})]}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:121:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"121","data-component-file":"SystemMetrics.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%2C%22textContent%22%3A%22Uptime%20(30%20days)%22%7D",className:"text-sm text-gray-500",children:"Uptime (30 days)"})]})]}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:126:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"126","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22mt-4%22%7D",className:"mt-4",children:e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:127:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"127","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22w-full%20bg-gray-200%20rounded-full%20h-2%22%7D",className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx:128:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/SystemMetrics.jsx","data-component-line":"128","data-component-file":"SystemMetrics.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-green-500%20h-2%20rounded-full%20transition-all%20duration-300%22%7D",className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${(null==n?void 0:n.systemHealth)||98.5}%`}})})})]})]})},D=({activities:n})=>{const a=n=>{switch(n){case"client_organization_created":return e.jsx(s,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:8:15","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"8","data-component-file":"ActivityFeed.jsx","data-component-name":"Building","data-component-content":"%7B%22elementName%22%3A%22Building%22%2C%22className%22%3A%22h-4%20w-4%20text-green-500%22%7D",className:"h-4 w-4 text-green-500"});case"client_permissions_updated":return e.jsx(i,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:10:15","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"10","data-component-file":"ActivityFeed.jsx","data-component-name":"Settings","data-component-content":"%7B%22elementName%22%3A%22Settings%22%2C%22className%22%3A%22h-4%20w-4%20text-blue-500%22%7D",className:"h-4 w-4 text-blue-500"});case"client_status_changed":return e.jsx(A,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:12:15","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"12","data-component-file":"ActivityFeed.jsx","data-component-name":"Power","data-component-content":"%7B%22elementName%22%3A%22Power%22%2C%22className%22%3A%22h-4%20w-4%20text-yellow-500%22%7D",className:"h-4 w-4 text-yellow-500"});case"client_deleted":return e.jsx(v,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:14:15","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"14","data-component-file":"ActivityFeed.jsx","data-component-name":"Trash2","data-component-content":"%7B%22elementName%22%3A%22Trash2%22%2C%22className%22%3A%22h-4%20w-4%20text-red-500%22%7D",className:"h-4 w-4 text-red-500"});case"bulk_action_performed":return e.jsx(C,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:16:15","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"16","data-component-file":"ActivityFeed.jsx","data-component-name":"User","data-component-content":"%7B%22elementName%22%3A%22User%22%2C%22className%22%3A%22h-4%20w-4%20text-purple-500%22%7D",className:"h-4 w-4 text-purple-500"});default:return e.jsx(u,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:18:15","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"18","data-component-file":"ActivityFeed.jsx","data-component-name":"Activity","data-component-content":"%7B%22elementName%22%3A%22Activity%22%2C%22className%22%3A%22h-4%20w-4%20text-gray-500%22%7D",className:"h-4 w-4 text-gray-500"})}},t=e=>{const n=new Date,a=new Date(e),t=Math.floor((n-a)/6e4);return t<1?"Just now":t<60?`${t}m ago`:t<1440?`${Math.floor(t/60)}h ago`:`${Math.floor(t/1440)}d ago`};return e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:91:4","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"91","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow-sm%20border%20border-gray-200%22%7D",className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:92:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"92","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-6%20border-b%20border-gray-200%22%7D",className:"p-6 border-b border-gray-200",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:93:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"93","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",className:"flex items-center space-x-3",children:[e.jsx(u,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:94:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"94","data-component-file":"ActivityFeed.jsx","data-component-name":"Activity","data-component-content":"%7B%22elementName%22%3A%22Activity%22%2C%22className%22%3A%22h-5%20w-5%20text-blue-600%22%7D",className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:95:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"95","data-component-file":"ActivityFeed.jsx","data-component-name":"h3","data-component-content":"%7B%22elementName%22%3A%22h3%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%22%2C%22textContent%22%3A%22Recent%20Activity%22%7D",className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})]})}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:99:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"99","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22max-h-96%20overflow-y-auto%22%7D",className:"max-h-96 overflow-y-auto",children:(null==n?void 0:n.length)>0?e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:101:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"101","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22divide-y%20divide-gray-100%22%7D",className:"divide-y divide-gray-100",children:null==n?void 0:n.map((n=>{const{message:o,details:s}=(e=>{var n,a,t,o,s,d;const m=(null==(n=null==e?void 0:e.performed_by)?void 0:n.full_name)||(null==(a=null==e?void 0:e.performed_by)?void 0:a.email)||"System",i=(null==(t=null==e?void 0:e.target_user)?void 0:t.full_name)||(null==(o=null==e?void 0:e.target_user)?void 0:o.email),c=(null==(s=null==e?void 0:e.target_client)?void 0:s.organization_name)||"Unknown Client",r=(null==e?void 0:e.action_details)||{};switch(null==e?void 0:e.action_type){case"client_organization_created":return{message:`${m} created new client organization "${c}"`,details:`Subscription tier: ${(null==r?void 0:r.tier)||"Unknown"}`};case"client_permissions_updated":return{message:`${m} updated permissions for "${c}"`,details:`${(null==r?void 0:r.permissions_count)||0} modules configured`};case"client_status_changed":return{message:`${m} changed status for "${c}"`,details:`${null==r?void 0:r.old_status} â†’ ${null==r?void 0:r.new_status}`};case"client_deleted":return{message:`${m} deleted client organization`,details:`Organization: ${(null==r?void 0:r.organization_name)||c}`};case"bulk_action_performed":return{message:`${m} performed bulk ${null==r?void 0:r.action}`,details:`Applied to ${(null==r?void 0:r.client_count)||0} clients`};case"user_permissions_updated":return{message:`${m} updated permissions for ${i||"user"}`,details:`Client: ${c}`};case"user_role_changed":return{message:`${m} changed role for ${i||"user"}`,details:`${null==r?void 0:r.old_role} â†’ ${null==r?void 0:r.new_role} in ${c}`};default:return{message:`${m} performed ${null==(d=null==e?void 0:e.action_type)?void 0:d.replace("_"," ")}`,details:i?`Target: ${i}`:c}}})(n);return e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:106:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"106","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-4%20hover%3Abg-gray-50%20transition-colors%22%7D",className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:107:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"107","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-start%20space-x-3%22%7D",className:"flex items-start space-x-3",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:108:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"108","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex-shrink-0%20mt-0.5%22%7D",className:"flex-shrink-0 mt-0.5",children:a(null==n?void 0:n.action_type)}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:112:20","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"112","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex-1%20min-w-0%22%7D",className:"flex-1 min-w-0",children:[e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:113:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"113","data-component-file":"ActivityFeed.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-900%20leading-relaxed%22%7D",className:"text-sm text-gray-900 leading-relaxed",children:o}),s&&e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:118:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"118","data-component-file":"ActivityFeed.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-xs%20text-gray-500%20mt-1%22%7D",className:"text-xs text-gray-500 mt-1",children:s}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:123:22","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"123","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-1%20mt-2%22%7D",className:"flex items-center space-x-1 mt-2",children:[e.jsx(c,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:124:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"124","data-component-file":"ActivityFeed.jsx","data-component-name":"Clock","data-component-content":"%7B%22elementName%22%3A%22Clock%22%2C%22className%22%3A%22h-3%20w-3%20text-gray-400%22%7D",className:"h-3 w-3 text-gray-400"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:125:24","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"125","data-component-file":"ActivityFeed.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%7D",className:"text-xs text-gray-500",children:t(null==n?void 0:n.created_at)})]})]})]})},null==n?void 0:n.id)}))}):e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:136:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"136","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-8%20text-center%22%7D",className:"p-8 text-center",children:[e.jsx(u,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:137:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"137","data-component-file":"ActivityFeed.jsx","data-component-name":"Activity","data-component-content":"%7B%22elementName%22%3A%22Activity%22%2C%22className%22%3A%22h-12%20w-12%20text-gray-300%20mx-auto%20mb-3%22%7D",className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:138:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"138","data-component-file":"ActivityFeed.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-gray-500%20text-sm%22%2C%22textContent%22%3A%22No%20recent%20activity%22%7D",className:"text-gray-500 text-sm",children:"No recent activity"})]})}),(null==n?void 0:n.length)>0&&e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:144:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"144","data-component-file":"ActivityFeed.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-4%20border-t%20border-gray-200%20text-center%22%7D",className:"p-4 border-t border-gray-200 text-center",children:e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx:145:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/ActivityFeed.jsx","data-component-line":"145","data-component-file":"ActivityFeed.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22text-sm%20text-blue-600%20hover%3Atext-blue-800%20font-medium%22%2C%22textContent%22%3A%22View%20All%20Activity%22%7D",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All Activity"})})]})},_=({selectedCount:a,onBulkAction:t,onClearSelection:o})=>{const[s,d]=n.useState(!1),[m,i]=n.useState(null),c=[{id:"activate",label:"Activate Clients",icon:A,color:"green",confirmMessage:"Are you sure you want to activate the selected clients?"},{id:"suspend",label:"Suspend Clients",icon:A,color:"yellow",confirmMessage:"Are you sure you want to suspend the selected clients?"},{id:"delete",label:"Delete Clients",icon:v,color:"red",confirmMessage:"Are you sure you want to delete the selected clients? This action cannot be undone.",dangerous:!0}],l=e=>{const n={green:"bg-green-600 hover:bg-green-700 text-white",yellow:"bg-yellow-600 hover:bg-yellow-700 text-white",red:"bg-red-600 hover:bg-red-700 text-white"};return(null==n?void 0:n[e])||(null==n?void 0:n.green)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:59:6","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"59","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-blue-50%20border%20border-blue-200%20rounded-lg%20p-4%20mb-6%22%7D",className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:60:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"60","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:61:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"61","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",className:"flex items-center space-x-3",children:[e.jsx(w,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:62:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"62","data-component-file":"BulkActions.jsx","data-component-name":"CheckSquare","data-component-content":"%7B%22elementName%22%3A%22CheckSquare%22%2C%22className%22%3A%22h-5%20w-5%20text-blue-600%22%7D",className:"h-5 w-5 text-blue-600"}),e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:63:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"63","data-component-file":"BulkActions.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20font-medium%20text-blue-900%22%2C%22textContent%22%3A%22client%20selected%22%7D",className:"text-sm font-medium text-blue-900",children:[a," client",1!==a?"s":""," selected"]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:68:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"68","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",className:"flex items-center space-x-2",children:[null==c?void 0:c.map((n=>{const a=null==n?void 0:n.icon;return e.jsxs("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:72:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"72","data-component-file":"BulkActions.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%7D",onClick:()=>(e=>{i(e),d(!0)})(n),className:`flex items-center space-x-2 px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${l(null==n?void 0:n.color)}`,children:[e.jsx(a,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:77:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"77","data-component-file":"BulkActions.jsx","data-component-name":"Icon","data-component-content":"%7B%22elementName%22%3A%22Icon%22%2C%22className%22%3A%22h-4%20w-4%22%7D",className:"h-4 w-4"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:78:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"78","data-component-file":"BulkActions.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%7D",children:null==n?void 0:n.label})]},null==n?void 0:n.id)})),e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:83:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"83","data-component-file":"BulkActions.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22px-3%20py-1.5%20text-sm%20font-medium%20text-gray-700%20bg-white%20border%20border-gray-300%20rounded-md%20hover%3Abg-gray-50%20transition-colors%22%2C%22textContent%22%3A%22Clear%20Selection%22%7D",onClick:o,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Clear Selection"})]})]})}),s&&m&&e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:95:8","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"95","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22fixed%20inset-0%20bg-black%20bg-opacity-50%20flex%20items-center%20justify-center%20z-50%22%7D",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:96:10","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"96","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow-xl%20max-w-md%20w-full%20mx-4%22%7D",className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:97:12","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"97","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22p-6%22%7D",className:"p-6",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:98:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"98","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-3%20mb-4%22%7D",className:"flex items-center space-x-3 mb-4",children:[(null==m?void 0:m.dangerous)&&e.jsx(r,{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:100:18","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"100","data-component-file":"BulkActions.jsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22elementName%22%3A%22AlertTriangle%22%2C%22className%22%3A%22h-6%20w-6%20text-red-500%22%7D",className:"h-6 w-6 text-red-500"}),e.jsx("h3",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:102:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"102","data-component-file":"BulkActions.jsx","data-component-name":"h3","data-component-content":"%7B%22elementName%22%3A%22h3%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%22%2C%22textContent%22%3A%22Confirm%20Bulk%20Action%22%7D",className:"text-lg font-semibold text-gray-900",children:"Confirm Bulk Action"})]}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:107:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"107","data-component-file":"BulkActions.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-gray-600%20mb-6%22%7D",className:"text-gray-600 mb-6",children:null==m?void 0:m.confirmMessage}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:111:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"111","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-gray-50%20rounded-md%20p-3%20mb-6%22%7D",className:"bg-gray-50 rounded-md p-3 mb-6",children:e.jsxs("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:112:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"112","data-component-file":"BulkActions.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-700%22%2C%22textContent%22%3A%22This%20action%20will%20be%20applied%20to%20selected%20client%20.%22%7D",className:"text-sm text-gray-700",children:["This action will be applied to ",e.jsx("strong",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:113:49","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"113","data-component-file":"BulkActions.jsx","data-component-name":"strong","data-component-content":"%7B%22elementName%22%3A%22strong%22%7D",children:a})," selected client",1!==a?"s":"","."]})}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:118:14","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"118","data-component-file":"BulkActions.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-end%20space-x-3%22%7D",className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:119:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"119","data-component-file":"BulkActions.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22px-4%20py-2%20text-sm%20font-medium%20text-gray-700%20bg-white%20border%20border-gray-300%20rounded-md%20hover%3Abg-gray-50%20transition-colors%22%2C%22textContent%22%3A%22Cancel%22%7D",onClick:()=>{d(!1),i(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{"data-component-id":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx:129:16","data-component-path":"src/pages/system-owner-admin-dashboard/components/BulkActions.jsx","data-component-line":"129","data-component-file":"BulkActions.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%7D",onClick:()=>{m&&(null==t||t(null==m?void 0:m.id,[])),d(!1),i(null)},className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${l(null==m?void 0:m.color)}`,children:(null==m?void 0:m.dangerous)?"Delete":"Confirm"})]})]})})})]})},S=()=>{var s;const{user:m}=t(),[c,r]=n.useState([]),[l,p]=n.useState([]),[x,h]=n.useState({}),[y,u]=n.useState([]),[j,b]=n.useState(!0),[C,v]=n.useState(""),[A,w]=n.useState(""),[S,P]=n.useState("all"),[k,F]=n.useState("all"),[$,U]=n.useState([]),[z,T]=n.useState(!1),[O,q]=n.useState(null);n.useEffect((()=>{(null==m?void 0:m.id)&&H()}),[null==m?void 0:m.id]);const H=async()=>{b(!0);try{await Promise.all([I(),E(),L(),R()])}catch(e){v("Failed to load dashboard data. Please refresh the page.")}finally{b(!1)}},I=async()=>{var e,n,t;try{const{data:o,error:s}=await(null==(t=null==(n=null==(e=a)?void 0:e.from("client_organizations"))?void 0:n.select("\n          *,\n          client_practice_mappings (\n            practice_locations (\n              name,\n              email,\n              phone,\n              address\n            )\n          ),\n          client_module_permissions (\n            module_name,\n            permission_level,\n            is_enabled\n          )\n        "))?void 0:t.order("created_at",{ascending:!1}));if(s)throw s;r(o||[])}catch(o){v("Failed to load client data")}},E=async()=>{var e,n,t;try{const{data:o,error:s}=await(null==(t=null==(n=null==(e=a)?void 0:e.from("system_modules"))?void 0:n.select("*"))?void 0:t.order("display_name"));if(s)throw s;p(o||[])}catch(o){}},L=async()=>{var e;try{const n=(null==(e=null==c?void 0:c.filter((e=>"active"===(null==e?void 0:e.status))))?void 0:e.length)||0,a=(null==c?void 0:c.reduce(((e,n)=>e+((null==n?void 0:n.total_users)||0)),0))||0,t=(null==c?void 0:c.reduce(((e,n)=>{const a=(null==n?void 0:n.total_users)||0;return e+1e3+50*Math.max(0,a-2)}),0))||0;h({totalClients:(null==c?void 0:c.length)||0,activeClients:n,totalUsers:a,totalRevenue:t,systemHealth:98.5})}catch(n){}},R=async()=>{var e,n,t,o;try{const{data:s,error:d}=await(null==(o=null==(t=null==(n=null==(e=a)?void 0:e.from("system_owner_audit_log"))?void 0:n.select("\n          *,\n          performed_by:user_profiles!system_owner_audit_log_performed_by_fkey(full_name, email),\n          target_user:user_profiles!system_owner_audit_log_target_user_id_fkey(full_name, email),\n          target_client:client_organizations(organization_name)\n        "))?void 0:t.order("created_at",{ascending:!1}))?void 0:o.limit(20));if(d)throw d;u(s||[])}catch(s){}},G=async(e,n,t={})=>{var o,s,d,m,i,r,l;try{switch(e){case"edit_permissions":const e=null==c?void 0:c.find((e=>(null==e?void 0:e.id)===n));q(e),T(!0);break;case"toggle_status":const p="active"===(null==t?void 0:t.status)?"suspended":"active";await(null==(m=null==(d=null==(o=a)?void 0:o.from("client_organizations"))?void 0:d.update({status:p,updated_at:null==(s=new Date)?void 0:s.toISOString()}))?void 0:m.eq("id",n)),await W("client_status_changed",n,{old_status:null==t?void 0:t.status,new_status:p}),await I();break;case"delete":await(null==(l=null==(r=null==(i=a)?void 0:i.from("client_organizations"))?void 0:r.delete())?void 0:l.eq("id",n)),await W("client_deleted",n,{organization_name:null==t?void 0:t.organization_name}),await I()}}catch(p){v(`Failed to ${null==e?void 0:e.replace("_"," ")}`)}},W=async(e,n=null,t={})=>{var o;try{await(null==(o=a)?void 0:o.rpc("log_system_owner_action",{action_type_param:e,target_client_param:n,target_user_param:null,details_param:t}))}catch(s){}},X=(null==c?void 0:c.filter((e=>{var n,a,t,o;const s=(null==(a=null==(n=null==e?void 0:e.organization_name)?void 0:n.toLowerCase())?void 0:a.includes(null==A?void 0:A.toLowerCase()))||(null==(o=null==(t=null==e?void 0:e.contact_email)?void 0:t.toLowerCase())?void 0:o.includes(null==A?void 0:A.toLowerCase())),d="all"===S||(null==e?void 0:e.status)===S,m="all"===k||(null==e?void 0:e.subscription_tier)===k;return s&&d&&m})))||[];return j?e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:218:6","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"218","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22min-h-screen%20bg-gray-50%20flex%20items-center%20justify-center%22%7D",className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:219:8","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"219","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22text-center%22%7D",className:"text-center",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:220:10","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"220","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22animate-spin%20rounded-full%20h-32%20w-32%20border-b-2%20border-blue-600%20mx-auto%20mb-4%22%7D",className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:221:10","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"221","data-component-file":"index.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-gray-600%22%2C%22textContent%22%3A%22Loading%20system%20dashboard...%22%7D",className:"text-gray-600",children:"Loading system dashboard..."})]})}):e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:228:4","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"228","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22min-h-screen%20bg-gray-50%22%7D",className:"min-h-screen bg-gray-50",children:[e.jsx(o,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:229:6","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"229","data-component-file":"index.jsx","data-component-name":"SEOHead","data-component-content":"%7B%22elementName%22%3A%22SEOHead%22%7D",title:"System Owner Admin Dashboard",description:"Manage multi-tenant client access permissions and system-wide controls"}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:234:6","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"234","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20shadow-sm%20border-b%22%7D",className:"bg-white shadow-sm border-b",children:e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:235:8","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"235","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22max-w-7xl%20mx-auto%20px-4%20sm%3Apx-6%20lg%3Apx-8%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:236:10","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"236","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20h-16%22%7D",className:"flex items-center justify-between h-16",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:237:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"237","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",className:"flex items-center space-x-4",children:[e.jsx(i,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:238:14","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"238","data-component-file":"index.jsx","data-component-name":"Settings","data-component-content":"%7B%22elementName%22%3A%22Settings%22%2C%22className%22%3A%22h-8%20w-8%20text-blue-600%22%7D",className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:239:14","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"239","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%7D",children:[e.jsx("h1",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:240:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"240","data-component-file":"index.jsx","data-component-name":"h1","data-component-content":"%7B%22elementName%22%3A%22h1%22%2C%22className%22%3A%22text-xl%20font-semibold%20text-gray-900%22%2C%22textContent%22%3A%22System%20Owner%20Dashboard%22%7D",className:"text-xl font-semibold text-gray-900",children:"System Owner Dashboard"}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:241:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"241","data-component-file":"index.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%2C%22textContent%22%3A%22Multi-tenant%20client%20management%20%26%20permissions%22%7D",className:"text-sm text-gray-500",children:"Multi-tenant client management & permissions"})]})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:245:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"245","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",className:"flex items-center space-x-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:246:14","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"246","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",className:"flex items-center space-x-2",children:[e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:247:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"247","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22h-2%20w-2%20bg-green-400%20rounded-full%22%7D",className:"h-2 w-2 bg-green-400 rounded-full"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:248:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"248","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-600%22%2C%22textContent%22%3A%22System%20Healthy%22%7D",className:"text-sm text-gray-600",children:"System Healthy"})]}),e.jsxs("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:250:14","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"250","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-500%22%2C%22textContent%22%3A%22Welcome%2C%22%7D",className:"text-sm text-gray-500",children:["Welcome, ",(null==(s=null==m?void 0:m.user_metadata)?void 0:s.full_name)||(null==m?void 0:m.email)]})]})]})})}),C&&e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:258:8","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"258","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22max-w-7xl%20mx-auto%20px-4%20sm%3Apx-6%20lg%3Apx-8%20mt-4%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:259:10","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"259","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-red-50%20border%20border-red-200%20rounded-md%20p-4%20flex%20items-center%20space-x-2%22%7D",className:"bg-red-50 border border-red-200 rounded-md p-4 flex items-center space-x-2",children:[e.jsx(g,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:260:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"260","data-component-file":"index.jsx","data-component-name":"AlertCircle","data-component-content":"%7B%22elementName%22%3A%22AlertCircle%22%2C%22className%22%3A%22h-5%20w-5%20text-red-500%22%7D",className:"h-5 w-5 text-red-500"}),e.jsx("span",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:261:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"261","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-red-700%22%7D",className:"text-red-700",children:C})]})}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:265:6","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"265","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22max-w-7xl%20mx-auto%20px-4%20sm%3Apx-6%20lg%3Apx-8%20py-8%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:266:8","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"266","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-4%20gap-8%22%7D",className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:268:10","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"268","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22lg%3Acol-span-3%22%7D",className:"lg:col-span-3",children:[e.jsx(M,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:270:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"270","data-component-file":"index.jsx","data-component-name":"SystemMetrics","data-component-content":"%7B%22elementName%22%3A%22SystemMetrics%22%7D",metrics:x}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:273:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"273","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow%20mb-8%20p-6%22%7D",className:"bg-white rounded-lg shadow mb-8 p-6",children:e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:274:14","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"274","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20sm%3Aitems-center%20sm%3Ajustify-between%20gap-4%22%7D",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:275:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"275","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22relative%22%7D",className:"relative",children:[e.jsx(N,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:276:18","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"276","data-component-file":"index.jsx","data-component-name":"Search","data-component-content":"%7B%22elementName%22%3A%22Search%22%2C%22className%22%3A%22h-5%20w-5%20absolute%20left-3%20top-3%20text-gray-400%22%7D",className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:277:18","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"277","data-component-file":"index.jsx","data-component-name":"input","data-component-content":"%7B%22elementName%22%3A%22input%22%2C%22type%22%3A%22text%22%2C%22value%22%3A%22%5Bvar%3AsearchTerm%5D%22%2C%22className%22%3A%22pl-10%20pr-4%20py-2%20border%20border-gray-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-blue-500%20focus%3Aborder-blue-500%22%7D",type:"text",placeholder:"Search clients...",value:A,onChange:e=>{var n;return w(null==(n=null==e?void 0:e.target)?void 0:n.value)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:286:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"286","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",className:"flex items-center space-x-4",children:[e.jsxs("select",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:287:18","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"287","data-component-file":"index.jsx","data-component-name":"select","data-component-content":"%7B%22elementName%22%3A%22select%22%2C%22value%22%3A%22%5Bvar%3AstatusFilter%5D%22%2C%22className%22%3A%22border%20border-gray-300%20rounded-lg%20px-3%20py-2%20focus%3Aring-2%20focus%3Aring-blue-500%22%7D",value:S,onChange:e=>{var n;return P(null==(n=null==e?void 0:e.target)?void 0:n.value)},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:292:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"292","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22all%22%2C%22textContent%22%3A%22All%20Status%22%7D",value:"all",children:"All Status"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:293:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"293","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22active%22%2C%22textContent%22%3A%22Active%22%7D",value:"active",children:"Active"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:294:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"294","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22inactive%22%2C%22textContent%22%3A%22Inactive%22%7D",value:"inactive",children:"Inactive"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:295:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"295","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22suspended%22%2C%22textContent%22%3A%22Suspended%22%7D",value:"suspended",children:"Suspended"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:296:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"296","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22trial%22%2C%22textContent%22%3A%22Trial%22%7D",value:"trial",children:"Trial"})]}),e.jsxs("select",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:299:18","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"299","data-component-file":"index.jsx","data-component-name":"select","data-component-content":"%7B%22elementName%22%3A%22select%22%2C%22value%22%3A%22%5Bvar%3AtierFilter%5D%22%2C%22className%22%3A%22border%20border-gray-300%20rounded-lg%20px-3%20py-2%20focus%3Aring-2%20focus%3Aring-blue-500%22%7D",value:k,onChange:e=>{var n;return F(null==(n=null==e?void 0:e.target)?void 0:n.value)},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:304:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"304","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22all%22%2C%22textContent%22%3A%22All%20Tiers%22%7D",value:"all",children:"All Tiers"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:305:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"305","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22basic%22%2C%22textContent%22%3A%22Basic%22%7D",value:"basic",children:"Basic"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:306:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"306","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22professional%22%2C%22textContent%22%3A%22Professional%22%7D",value:"professional",children:"Professional"}),e.jsx("option",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:307:20","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"307","data-component-file":"index.jsx","data-component-name":"option","data-component-content":"%7B%22elementName%22%3A%22option%22%2C%22value%22%3A%22enterprise%22%2C%22textContent%22%3A%22Enterprise%22%7D",value:"enterprise",children:"Enterprise"})]})]})]})}),(null==$?void 0:$.length)>0&&e.jsx(_,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:315:14","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"315","data-component-file":"index.jsx","data-component-name":"BulkActions","data-component-content":"%7B%22elementName%22%3A%22BulkActions%22%7D",selectedCount:null==$?void 0:$.length,onBulkAction:async(e,n)=>{var t,o,s,d,m,i,c,r,l;try{switch(e){case"activate":await(null==(s=null==(o=null==(t=a)?void 0:t.from("client_organizations"))?void 0:o.update({status:"active"}))?void 0:s.in("id",n));break;case"suspend":await(null==(i=null==(m=null==(d=a)?void 0:d.from("client_organizations"))?void 0:m.update({status:"suspended"}))?void 0:i.in("id",n));break;case"delete":await(null==(l=null==(r=null==(c=a)?void 0:c.from("client_organizations"))?void 0:r.delete())?void 0:l.in("id",n))}await W("bulk_action_performed",null,{action:e,client_count:null==n?void 0:n.length}),U([]),await I()}catch(p){v("Failed to perform bulk action")}},onClearSelection:()=>U([])}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:323:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"323","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22grid%20grid-cols-1%20gap-6%22%7D",className:"grid grid-cols-1 gap-6",children:null==X?void 0:X.map((n=>e.jsx(f,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:325:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"325","data-component-file":"index.jsx","data-component-name":"ClientCard","data-component-content":"%7B%22elementName%22%3A%22ClientCard%22%7D",client:n,systemModules:l,isSelected:null==$?void 0:$.includes(null==n?void 0:n.id),onSelect:(e,n)=>{U((a=>n?[...a,e]:null==a?void 0:a.filter((n=>n!==e))))},onAction:G},null==n?void 0:n.id)))}),0===(null==X?void 0:X.length)&&e.jsxs("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:343:14","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"343","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow%20p-12%20text-center%22%7D",className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx(d,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:344:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"344","data-component-file":"index.jsx","data-component-name":"Users","data-component-content":"%7B%22elementName%22%3A%22Users%22%2C%22className%22%3A%22h-16%20w-16%20text-gray-300%20mx-auto%20mb-4%22%7D",className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:345:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"345","data-component-file":"index.jsx","data-component-name":"h3","data-component-content":"%7B%22elementName%22%3A%22h3%22%2C%22className%22%3A%22text-lg%20font-medium%20text-gray-900%20mb-2%22%2C%22textContent%22%3A%22No%20clients%20found%22%7D",className:"text-lg font-medium text-gray-900 mb-2",children:"No clients found"}),e.jsx("p",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:346:16","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"346","data-component-file":"index.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-gray-500%22%7D",className:"text-gray-500",children:A||"all"!==S||"all"!==k?"Try adjusting your search criteria or filters":"No clients have been added to the system yet"})]})]}),e.jsx("div",{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:355:10","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"355","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22lg%3Acol-span-1%22%7D",className:"lg:col-span-1",children:e.jsx(D,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:356:12","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"356","data-component-file":"index.jsx","data-component-name":"ActivityFeed","data-component-content":"%7B%22elementName%22%3A%22ActivityFeed%22%7D",activities:y})})]})}),z&&O&&e.jsx(B,{"data-component-id":"src/pages/system-owner-admin-dashboard/index.jsx:362:8","data-component-path":"src/pages/system-owner-admin-dashboard/index.jsx","data-component-line":"362","data-component-file":"index.jsx","data-component-name":"ClientPermissionModal","data-component-content":"%7B%22elementName%22%3A%22ClientPermissionModal%22%7D",client:O,systemModules:l,onClose:()=>{T(!1),q(null)},onSave:()=>{I(),R(),T(!1),q(null)}})]})};export{S as default};
