import{j as e}from"./chunk-DcsW3699.js";import{r as a}from"./chunk-BWavu6B_.js";import{s as t}from"./chunk-Dz5VeUdM.js";import{a as n}from"./chunk-C9gHHC5N.js";import{c as o,n as c,l as s}from"./chunk-D1Xz4VP2.js";import"./chunk-DCNfDqld.js";const d=()=>{const[d,i]=a.useState("processing"),[l,m]=a.useState("Processing authentication..."),r=n();a.useEffect((()=>{const e=new URLSearchParams(window.location.search);(null==e?void 0:e.get("code"))?(async()=>{var e,a,n;try{i("processing"),m("Exchanging authorization code for session...");const{data:o,error:c}=await(null==(n=null==(e=t)?void 0:e.auth)?void 0:n.exchangeCodeForSession(null==(a=window.location)?void 0:a.href));if(c)return i("error"),m(`Authentication failed: ${(null==c?void 0:c.message)||"Unknown error occurred"}`),void setTimeout((()=>{r("/login?auth=error",{replace:!0})}),3e3);(null==o?void 0:o.session)?(i("success"),m("Authentication successful! Redirecting to dashboard..."),setTimeout((()=>{r("/dashboard",{replace:!0})}),2e3)):(i("error"),m("No session created. Please try signing in again."),setTimeout((()=>{r("/login",{replace:!0})}),3e3))}catch(o){i("error"),m("Network error occurred. Please check your connection and try again."),setTimeout((()=>{r("/login?auth=error",{replace:!0})}),3e3)}})():(i("error"),m("No authorization code found. Redirecting to login..."),setTimeout((()=>{r("/login",{replace:!0})}),2e3))}),[r]);return e.jsx("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:102:4","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"102","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22min-h-screen%20bg-gradient-to-br%20from-blue-50%20to-indigo-100%20flex%20items-center%20justify-center%20py-12%20px-4%20sm%3Apx-6%20lg%3Apx-8%22%7D",className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:103:6","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"103","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22max-w-md%20w-full%20space-y-8%22%7D",className:"max-w-md w-full space-y-8",children:e.jsx("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:104:8","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"104","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22bg-white%20rounded-lg%20shadow-lg%20p-8%22%7D",className:"bg-white rounded-lg shadow-lg p-8",children:e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:105:10","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"105","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22text-center%22%7D",className:"text-center",children:[e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:107:12","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"107","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22mb-6%22%7D",className:"mb-6",children:[e.jsx("h1",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:108:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"108","data-component-file":"index.jsx","data-component-name":"h1","data-component-content":"%7B%22elementName%22%3A%22h1%22%2C%22className%22%3A%22text-2xl%20font-bold%20text-gray-900%22%2C%22textContent%22%3A%22Dental%20CRM%22%7D",className:"text-2xl font-bold text-gray-900",children:"Dental CRM"}),e.jsx("p",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:109:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"109","data-component-file":"index.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-sm%20text-gray-500%20mt-1%22%2C%22textContent%22%3A%22Secure%20Authentication%22%7D",className:"text-sm text-gray-500 mt-1",children:"Secure Authentication"})]}),e.jsx("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:113:12","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"113","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20justify-center%20mb-4%22%7D",className:"flex justify-center mb-4",children:(()=>{switch(d){case"processing":return e.jsx(c,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:78:15","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"78","data-component-file":"index.jsx","data-component-name":"Loader","data-component-content":"%7B%22elementName%22%3A%22Loader%22%2C%22className%22%3A%22h-8%20w-8%20text-blue-500%20animate-spin%22%7D",className:"h-8 w-8 text-blue-500 animate-spin"});case"success":return e.jsx(o,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:80:15","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"80","data-component-file":"index.jsx","data-component-name":"CheckCircle","data-component-content":"%7B%22elementName%22%3A%22CheckCircle%22%2C%22className%22%3A%22h-8%20w-8%20text-green-500%22%7D",className:"h-8 w-8 text-green-500"});case"error":return e.jsx(s,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:82:15","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"82","data-component-file":"index.jsx","data-component-name":"AlertCircle","data-component-content":"%7B%22elementName%22%3A%22AlertCircle%22%2C%22className%22%3A%22h-8%20w-8%20text-red-500%22%7D",className:"h-8 w-8 text-red-500"});default:return e.jsx(c,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:84:15","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"84","data-component-file":"index.jsx","data-component-name":"Loader","data-component-content":"%7B%22elementName%22%3A%22Loader%22%2C%22className%22%3A%22h-8%20w-8%20text-blue-500%20animate-spin%22%7D",className:"h-8 w-8 text-blue-500 animate-spin"})}})()}),e.jsxs("h2",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:118:12","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"118","data-component-file":"index.jsx","data-component-name":"h2","data-component-content":"%7B%22elementName%22%3A%22h2%22%2C%22className%22%3A%22text-xl%20font-semibold%20text-gray-900%20mb-2%22%7D",className:"text-xl font-semibold text-gray-900 mb-2",children:["processing"===d&&"Processing Authentication","success"===d&&"Authentication Successful","error"===d&&"Authentication Error"]}),e.jsx("p",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:125:12","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"125","data-component-file":"index.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%7D",className:`text-sm ${(()=>{switch(d){case"processing":default:return"text-blue-600";case"success":return"text-green-600";case"error":return"text-red-600"}})()} mb-6`,children:l}),e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:130:12","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"130","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22space-y-3%20mb-6%22%7D",className:"space-y-3 mb-6",children:[e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:131:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"131","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20p-3%20bg-gray-50%20rounded-md%22%7D",className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsx("span",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:132:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"132","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-700%22%2C%22textContent%22%3A%22Authorization%20received%22%7D",className:"text-sm text-gray-700",children:"Authorization received"}),e.jsx(o,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:133:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"133","data-component-file":"index.jsx","data-component-name":"CheckCircle","data-component-content":"%7B%22elementName%22%3A%22CheckCircle%22%2C%22className%22%3A%22h-4%20w-4%20text-green-500%22%7D",className:"h-4 w-4 text-green-500"})]}),e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:135:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"135","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20p-3%20bg-gray-50%20rounded-md%22%7D",className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsx("span",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:136:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"136","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-700%22%2C%22textContent%22%3A%22Token%20exchange%22%7D",className:"text-sm text-gray-700",children:"Token exchange"}),"processing"===d?e.jsx(c,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:138:18","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"138","data-component-file":"index.jsx","data-component-name":"Loader","data-component-content":"%7B%22elementName%22%3A%22Loader%22%2C%22className%22%3A%22h-4%20w-4%20text-blue-500%20animate-spin%22%7D",className:"h-4 w-4 text-blue-500 animate-spin"}):"success"===d?e.jsx(o,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:140:18","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"140","data-component-file":"index.jsx","data-component-name":"CheckCircle","data-component-content":"%7B%22elementName%22%3A%22CheckCircle%22%2C%22className%22%3A%22h-4%20w-4%20text-green-500%22%7D",className:"h-4 w-4 text-green-500"}):e.jsx(s,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:142:18","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"142","data-component-file":"index.jsx","data-component-name":"AlertCircle","data-component-content":"%7B%22elementName%22%3A%22AlertCircle%22%2C%22className%22%3A%22h-4%20w-4%20text-red-500%22%7D",className:"h-4 w-4 text-red-500"})]}),e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:145:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"145","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20p-3%20bg-gray-50%20rounded-md%22%7D",className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsx("span",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:146:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"146","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22className%22%3A%22text-sm%20text-gray-700%22%2C%22textContent%22%3A%22Session%20establishment%22%7D",className:"text-sm text-gray-700",children:"Session establishment"}),"success"===d?e.jsx(o,{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:148:18","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"148","data-component-file":"index.jsx","data-component-name":"CheckCircle","data-component-content":"%7B%22elementName%22%3A%22CheckCircle%22%2C%22className%22%3A%22h-4%20w-4%20text-green-500%22%7D",className:"h-4 w-4 text-green-500"}):e.jsx("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:150:18","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"150","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22h-4%20w-4%20border-2%20border-gray-300%20rounded-full%22%7D",className:"h-4 w-4 border-2 border-gray-300 rounded-full"})]})]}),e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:156:12","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"156","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22text-xs%20text-gray-500%20space-y-1%22%7D",className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:157:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"157","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-center%20space-x-2%22%7D",className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:158:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"158","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22h-2%20w-2%20bg-green-500%20rounded-full%22%7D",className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:159:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"159","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22textContent%22%3A%22Secure%20connection%22%7D",children:"Secure connection"})]}),e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:161:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"161","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22flex%20items-center%20justify-center%20space-x-2%22%7D",className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:162:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"162","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22h-2%20w-2%20bg-green-500%20rounded-full%22%7D",className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:163:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"163","data-component-file":"index.jsx","data-component-name":"span","data-component-content":"%7B%22elementName%22%3A%22span%22%2C%22textContent%22%3A%22CSRF%20protection%20enabled%22%7D",children:"CSRF protection enabled"})]})]}),"error"===d&&e.jsxs("div",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:169:14","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"169","data-component-file":"index.jsx","data-component-name":"div","data-component-content":"%7B%22elementName%22%3A%22div%22%2C%22className%22%3A%22mt-6%20space-y-3%22%7D",className:"mt-6 space-y-3",children:[e.jsx("button",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:170:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"170","data-component-file":"index.jsx","data-component-name":"button","data-component-content":"%7B%22elementName%22%3A%22button%22%2C%22className%22%3A%22w-full%20px-4%20py-2%20text-sm%20font-medium%20text-white%20bg-blue-600%20hover%3Abg-blue-700%20rounded-md%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-offset-2%20focus%3Aring-blue-500%22%2C%22textContent%22%3A%22Return%20to%20Sign%20In%22%7D",onClick:()=>r("/login",{replace:!0}),className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Return to Sign In"}),e.jsxs("p",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:176:16","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"176","data-component-file":"index.jsx","data-component-name":"p","data-component-content":"%7B%22elementName%22%3A%22p%22%2C%22className%22%3A%22text-xs%20text-gray-500%22%2C%22textContent%22%3A%22Need%20help%3F%20Contact%22%7D",className:"text-xs text-gray-500",children:["Need help? Contact"," ",e.jsx("a",{"data-component-id":"src/pages/o-auth-authentication-callback-handler/index.jsx:178:18","data-component-path":"src/pages/o-auth-authentication-callback-handler/index.jsx","data-component-line":"178","data-component-file":"index.jsx","data-component-name":"a","data-component-content":"%7B%22elementName%22%3A%22a%22%2C%22href%22%3A%22mailto%3Asupport%40dentalcrm.com%22%2C%22className%22%3A%22text-blue-600%20hover%3Aunderline%22%2C%22textContent%22%3A%22support%40dentalcrm.com%22%7D",href:"mailto:support@dentalcrm.com",className:"text-blue-600 hover:underline",children:"support@dentalcrm.com"})]})]})]})})})})};export{d as default};
